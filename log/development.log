# Logfile created on Sun Feb 01 17:41:39 +0000 2009  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (10.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to Initial (1)
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE "academic_years" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(10) DEFAULT '' NOT NULL, "interim_report_text" text) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (12.6ms)[0m   [0mCREATE TABLE "accesses" ("action_id" integer(8) DEFAULT 0 NOT NULL, "group_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE INDEX "group_id" ON "accesses" ("group_id")[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.5ms)[0m   [0;1mCREATE TABLE "actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "menu_text" varchar(30) DEFAULT '' NOT NULL, "menu_order" integer(8) DEFAULT 0 NOT NULL, "menu_action" varchar(30), "controller" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (67.0ms)[0m   [0;1mCREATE TABLE "assessed_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "report_id" integer(8) DEFAULT 0 NOT NULL, "assessed_element_id" integer(9) DEFAULT 0 NOT NULL, "value" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE INDEX "assessed_element_id" ON "assessed_element_data" ("assessed_element_id")[0m
  [4;36;1mSQL (12.1ms)[0m   [0;1mCREATE INDEX "report_id" ON "assessed_element_data" ("report_id")[0m
  [4;35;1mSQL (0.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (49.4ms)[0m   [0;1mCREATE TABLE "assessed_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "course_id" integer(9) DEFAULT 0 NOT NULL, "element" varchar(50) DEFAULT '' NOT NULL, "element_order" integer(2) DEFAULT 0 NOT NULL, "start_date" date NOT NULL, "assessed_elements_end_date" date, "value_list_id" integer(9)) [0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE INDEX "course_id" ON "assessed_elements" ("course_id")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE "course_levels" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar(10) DEFAULT '' NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL, "external_id" integer) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (17.0ms)[0m   [0mCREATE TABLE "courses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "external_id" integer, "academic_year_id" integer DEFAULT 0 NOT NULL, "course_code" varchar(30) DEFAULT '' NOT NULL, "course_subject" varchar(100), "course_rubric" varchar(100), "course_department" varchar(30), "faculty_id" integer DEFAULT 0 NOT NULL, "course_level" varchar(20) DEFAULT '' NOT NULL, "course_level_id" integer DEFAULT 0 NOT NULL, "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer, "previous_course_id" integer) [0m
  [4;36;1mSQL (15.9ms)[0m   [0;1mCREATE UNIQUE INDEX "code" ON "courses" ("course_code")[0m
  [4;35;1mSQL (25.9ms)[0m   [0mCREATE INDEX "academic_year_id" ON "courses" ("academic_year_id")[0m
  [4;36;1mSQL (15.4ms)[0m   [0;1mCREATE INDEX "course_level_id" ON "courses" ("course_level_id")[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (19.6ms)[0m   [0;1mCREATE TABLE "faculties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40) DEFAULT '' NOT NULL, "code" varchar(10) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (22.2ms)[0m   [0;1mCREATE TABLE "generic_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "report_id" integer(10) DEFAULT 0 NOT NULL, "generic_report_element_id" integer(10) DEFAULT 0 NOT NULL, "value" varchar(10), "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer) [0m
  [4;35;1mSQL (5.7ms)[0m   [0mCREATE INDEX "gred_reports_id" ON "generic_report_element_data" ("report_id", "generic_report_element_id")[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCREATE INDEX "generic_report_element_id" ON "generic_report_element_data" ("generic_report_element_id")[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (13.0ms)[0m   [0;1mCREATE TABLE "generic_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" varchar(5), "element" varchar(100) DEFAULT '' NOT NULL, "element_order" integer DEFAULT 0 NOT NULL, "start_date" integer(10) DEFAULT 0 NOT NULL, "generic_report_elements_end_date" integer(10), "value_list_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (55.0ms)[0m   [0mCREATE INDEX "report_year_id" ON "generic_report_elements" ("academic_year_id")[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (15.9ms)[0m   [0mCREATE TABLE "groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL, "description" text) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (40.0ms)[0m   [0mCREATE TABLE "groups_users" ("user_id" integer(9) DEFAULT 0 NOT NULL, "group_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (6.3ms)[0m   [0;1mCREATE INDEX "teacher_seq" ON "groups_users" ("user_id")[0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (36.3ms)[0m   [0;1mCREATE TABLE "guidance_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar(20) DEFAULT '' NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (1.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mCREATE TABLE "guidance_groups_users" ("guidance_group_id" integer DEFAULT 0 NOT NULL, "user_id" integer(10) DEFAULT 0 NOT NULL, "school_session_id" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (22.1ms)[0m   [0mCREATE INDEX "user_id" ON "guidance_groups_users" ("user_id")[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (16.5ms)[0m   [0mCREATE TABLE "guidance_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guidance_report_id" integer(10) DEFAULT 0 NOT NULL, "guidance_report_element_id" integer(10) DEFAULT 0 NOT NULL, "value" varchar(10), "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer) [0m
  [4;36;1mSQL (8.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (46.1ms)[0m   [0mCREATE TABLE "guidance_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" integer DEFAULT 0 NOT NULL, "element" varchar(50) DEFAULT '' NOT NULL, "values_name" varchar(50) DEFAULT '' NOT NULL, "element_order" integer(2) DEFAULT 0 NOT NULL, "start_date" date, "end_date" date) [0m
  [4;36;1mSQL (2.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (22.6ms)[0m   [0mCREATE TABLE "guidance_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "pupil_id" integer(14) DEFAULT 0 NOT NULL, "session" varchar(7), "school_session_id" integer DEFAULT 0 NOT NULL, "reports_comment1" text, "reports_comment2" text, "updated_on" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (18.3ms)[0m   [0mCREATE TABLE "interim_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(14) DEFAULT 0 NOT NULL, "interim_report_element_id" integer(10) DEFAULT 0 NOT NULL, "element_value" varchar(10) DEFAULT '' NOT NULL, "updated_at" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (10.1ms)[0m   [0;1mCREATE INDEX "ired_reports_id" ON "interim_report_element_data" ("setlink_id")[0m
  [4;35;1mSQL (16.9ms)[0m   [0mCREATE INDEX "ired_interim_report_element_id" ON "interim_report_element_data" ("interim_report_element_id")[0m
  [4;36;1mSQL (41.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (19.1ms)[0m   [0mCREATE TABLE "interim_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" integer(9) DEFAULT 0 NOT NULL, "element" varchar(100) DEFAULT '' NOT NULL, "order" integer DEFAULT 0 NOT NULL, "start_date" integer DEFAULT 0 NOT NULL, "interim_report_elements_end_date" integer, "value_list_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (6.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (24.6ms)[0m   [0mCREATE TABLE "letters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(200) DEFAULT '' NOT NULL, "tracking_element_id" integer DEFAULT 0 NOT NULL, "text1" text DEFAULT '' NOT NULL, "text2" text DEFAULT '' NOT NULL, "text3" text DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (28.4ms)[0m   [0mCREATE TABLE "merit_counts" ("pupil_id" integer DEFAULT 0 NOT NULL, "totals" integer(21) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (26.7ms)[0m   [0;1mCREATE INDEX "pupil_id" ON "merit_counts" ("pupil_id")[0m
  [4;35;1mSQL (2.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.7ms)[0m   [0;1mCREATE TABLE "merit_cutoffs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "level" varchar(20) DEFAULT '' NOT NULL, "cutoff" integer(9) DEFAULT 0 NOT NULL, "academic_year_id" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (1.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (27.3ms)[0m   [0;1mCREATE TABLE "merits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(20) DEFAULT 0 NOT NULL, "pupil_id" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (18.8ms)[0m   [0mCREATE INDEX "setlink_id" ON "merits" ("setlink_id")[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (16.9ms)[0m   [0mCREATE TABLE "motds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text DEFAULT '' NOT NULL, "created_on" datetime) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (48.8ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100) DEFAULT '' NOT NULL, "address_1" varchar(100) DEFAULT '' NOT NULL, "address_2" varchar(100) DEFAULT '' NOT NULL, "email" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (13.6ms)[0m   [0mCREATE TABLE "parent_link" ("parent_link_id" integer(20) NOT NULL, "parental_unit_id" integer(20) DEFAULT 0 NOT NULL, "pupil_id" integer(20) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (18.6ms)[0m   [0mCREATE TABLE "parental_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "names" varchar(80) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (22.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (17.6ms)[0m   [0mCREATE TABLE "positives" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(15) DEFAULT 0 NOT NULL, "poz_comment" text DEFAULT '' NOT NULL, "printed" integer(4) DEFAULT 0 NOT NULL, "user_id" integer DEFAULT 0 NOT NULL, "pupil_id" integer(9) DEFAULT 0 NOT NULL, "poz_subject" varchar(40) DEFAULT '' NOT NULL, "poz_timestamp" datetime, "updated_at" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (26.2ms)[0m   [0mCREATE TABLE "pupil_sets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "external_id" integer, "set_code" varchar(30) DEFAULT '', "academic_year_id" integer(9) DEFAULT 0 NOT NULL, "set_subjectcode" varchar(30) DEFAULT '', "set_setlevel" varchar(10) DEFAULT '', "set_setyear" varchar(5) DEFAULT '', "school_session_id" integer(9) DEFAULT 0 NOT NULL, "set_setsubject" varchar(40), "course_code" varchar(15), "course_id" integer, "set_teacher_code" varchar(6), "set_teacher_id" integer(9) DEFAULT 0, "pupil_set_start_date" integer DEFAULT 0 NOT NULL, "pupil_set_end_date" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: index course_id already exists: CREATE INDEX "course_id" ON "pupil_sets" ("course_id")[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to Initial (1)
  [4;36;1mSQL (0.4ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (17.7ms)[0m   [0;1mDROP TABLE "academic_years"[0m
  [4;35;1mSQL (51.1ms)[0m   [0mCREATE TABLE "academic_years" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(10) DEFAULT '' NOT NULL, "interim_report_text" text) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.7ms)[0m   [0mDROP TABLE "accesses"[0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE TABLE "accesses" ("action_id" integer(8) DEFAULT 0 NOT NULL, "group_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE INDEX "group_id" ON "accesses" ("group_id")[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (57.1ms)[0m   [0mDROP TABLE "actions"[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE "actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "menu_text" varchar(30) DEFAULT '' NOT NULL, "menu_order" integer(8) DEFAULT 0 NOT NULL, "menu_action" varchar(30), "controller" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (2.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mDROP TABLE "assessed_element_data"[0m
  [4;35;1mSQL (12.7ms)[0m   [0mCREATE TABLE "assessed_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "report_id" integer(8) DEFAULT 0 NOT NULL, "assessed_element_id" integer(9) DEFAULT 0 NOT NULL, "value" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (66.6ms)[0m   [0;1mCREATE INDEX "assessed_element_id" ON "assessed_element_data" ("assessed_element_id")[0m
  [4;35;1mSQL (6.1ms)[0m   [0mCREATE INDEX "report_id" ON "assessed_element_data" ("report_id")[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (8.4ms)[0m   [0mDROP TABLE "assessed_elements"[0m
  [4;36;1mSQL (6.9ms)[0m   [0;1mCREATE TABLE "assessed_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "course_id" integer(9) DEFAULT 0 NOT NULL, "element" varchar(50) DEFAULT '' NOT NULL, "element_order" integer(2) DEFAULT 0 NOT NULL, "start_date" date NOT NULL, "assessed_elements_end_date" date, "value_list_id" integer(9)) [0m
  [4;35;1mSQL (8.5ms)[0m   [0mCREATE INDEX "course_id" ON "assessed_elements" ("course_id")[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (54.4ms)[0m   [0mDROP TABLE "course_levels"[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE TABLE "course_levels" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar(10) DEFAULT '' NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL, "external_id" integer) [0m
  [4;35;1mSQL (2.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1mDROP TABLE "courses"[0m
  [4;35;1mSQL (4.6ms)[0m   [0mCREATE TABLE "courses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "external_id" integer, "academic_year_id" integer DEFAULT 0 NOT NULL, "course_code" varchar(30) DEFAULT '' NOT NULL, "course_subject" varchar(100), "course_rubric" varchar(100), "course_department" varchar(30), "faculty_id" integer DEFAULT 0 NOT NULL, "course_level" varchar(20) DEFAULT '' NOT NULL, "course_level_id" integer DEFAULT 0 NOT NULL, "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer, "previous_course_id" integer) [0m
  [4;36;1mSQL (50.4ms)[0m   [0;1mCREATE UNIQUE INDEX "code" ON "courses" ("course_code")[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCREATE INDEX "academic_year_id" ON "courses" ("academic_year_id")[0m
  [4;36;1mSQL (12.2ms)[0m   [0;1mCREATE INDEX "course_level_id" ON "courses" ("course_level_id")[0m
  [4;35;1mSQL (2.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (56.3ms)[0m   [0;1mDROP TABLE "faculties"[0m
  [4;35;1mSQL (4.6ms)[0m   [0mCREATE TABLE "faculties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40) DEFAULT '' NOT NULL, "code" varchar(10) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.0ms)[0m   [0mDROP TABLE "generic_report_element_data"[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE "generic_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "report_id" integer(10) DEFAULT 0 NOT NULL, "generic_report_element_id" integer(10) DEFAULT 0 NOT NULL, "value" varchar(10), "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer) [0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE INDEX "gred_reports_id" ON "generic_report_element_data" ("report_id", "generic_report_element_id")[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE INDEX "generic_report_element_id" ON "generic_report_element_data" ("generic_report_element_id")[0m
  [4;35;1mSQL (2.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (13.0ms)[0m   [0;1mDROP TABLE "generic_report_elements"[0m
  [4;35;1mSQL (42.8ms)[0m   [0mCREATE TABLE "generic_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" varchar(5), "element" varchar(100) DEFAULT '' NOT NULL, "element_order" integer DEFAULT 0 NOT NULL, "start_date" integer(10) DEFAULT 0 NOT NULL, "generic_report_elements_end_date" integer(10), "value_list_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mCREATE INDEX "report_year_id" ON "generic_report_elements" ("academic_year_id")[0m
  [4;35;1mSQL (3.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mDROP TABLE "groups"[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE "groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL, "description" text) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.6ms)[0m   [0mDROP TABLE "groups_users"[0m
  [4;36;1mSQL (56.1ms)[0m   [0;1mCREATE TABLE "groups_users" ("user_id" integer(9) DEFAULT 0 NOT NULL, "group_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE INDEX "teacher_seq" ON "groups_users" ("user_id")[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (11.7ms)[0m   [0mDROP TABLE "guidance_groups"[0m
  [4;36;1mSQL (45.5ms)[0m   [0;1mCREATE TABLE "guidance_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar(20) DEFAULT '' NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (3.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (10.3ms)[0m   [0;1mDROP TABLE "guidance_groups_users"[0m
  [4;35;1mSQL (4.2ms)[0m   [0mCREATE TABLE "guidance_groups_users" ("guidance_group_id" integer DEFAULT 0 NOT NULL, "user_id" integer(10) DEFAULT 0 NOT NULL, "school_session_id" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE INDEX "user_id" ON "guidance_groups_users" ("user_id")[0m
  [4;35;1mSQL (2.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (59.3ms)[0m   [0;1mDROP TABLE "guidance_report_element_data"[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCREATE TABLE "guidance_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guidance_report_id" integer(10) DEFAULT 0 NOT NULL, "guidance_report_element_id" integer(10) DEFAULT 0 NOT NULL, "value" varchar(10), "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.1ms)[0m   [0mDROP TABLE "guidance_report_elements"[0m
  [4;36;1mSQL (56.2ms)[0m   [0;1mCREATE TABLE "guidance_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" integer DEFAULT 0 NOT NULL, "element" varchar(50) DEFAULT '' NOT NULL, "values_name" varchar(50) DEFAULT '' NOT NULL, "element_order" integer(2) DEFAULT 0 NOT NULL, "start_date" date, "end_date" date) [0m
  [4;35;1mSQL (2.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mDROP TABLE "guidance_reports"[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE "guidance_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "pupil_id" integer(14) DEFAULT 0 NOT NULL, "session" varchar(7), "school_session_id" integer DEFAULT 0 NOT NULL, "reports_comment1" text, "reports_comment2" text, "updated_on" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.4ms)[0m   [0mDROP TABLE "interim_report_element_data"[0m
  [4;36;1mSQL (56.0ms)[0m   [0;1mCREATE TABLE "interim_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(14) DEFAULT 0 NOT NULL, "interim_report_element_id" integer(10) DEFAULT 0 NOT NULL, "element_value" varchar(10) DEFAULT '' NOT NULL, "updated_at" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE INDEX "ired_reports_id" ON "interim_report_element_data" ("setlink_id")[0m
  [4;36;1mSQL (12.7ms)[0m   [0;1mCREATE INDEX "ired_interim_report_element_id" ON "interim_report_element_data" ("interim_report_element_id")[0m
  [4;35;1mSQL (2.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.7ms)[0m   [0;1mDROP TABLE "interim_report_elements"[0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE TABLE "interim_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" integer(9) DEFAULT 0 NOT NULL, "element" varchar(100) DEFAULT '' NOT NULL, "order" integer DEFAULT 0 NOT NULL, "start_date" integer DEFAULT 0 NOT NULL, "interim_report_elements_end_date" integer, "value_list_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.8ms)[0m   [0mDROP TABLE "letters"[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "letters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(200) DEFAULT '' NOT NULL, "tracking_element_id" integer DEFAULT 0 NOT NULL, "text1" text DEFAULT '' NOT NULL, "text2" text DEFAULT '' NOT NULL, "text3" text DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (2.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (14.7ms)[0m   [0;1mDROP TABLE "merit_counts"[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE "merit_counts" ("pupil_id" integer DEFAULT 0 NOT NULL, "totals" integer(21) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE INDEX "pupil_id" ON "merit_counts" ("pupil_id")[0m
  [4;35;1mSQL (3.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mDROP TABLE "merit_cutoffs"[0m
  [4;35;1mSQL (6.0ms)[0m   [0mCREATE TABLE "merit_cutoffs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "level" varchar(20) DEFAULT '' NOT NULL, "cutoff" integer(9) DEFAULT 0 NOT NULL, "academic_year_id" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (57.1ms)[0m   [0mDROP TABLE "merits"[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mCREATE TABLE "merits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(20) DEFAULT 0 NOT NULL, "pupil_id" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (17.6ms)[0m   [0mCREATE INDEX "setlink_id" ON "merits" ("setlink_id")[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (61.5ms)[0m   [0mDROP TABLE "motds"[0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mCREATE TABLE "motds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text DEFAULT '' NOT NULL, "created_on" datetime) [0m
  [4;35;1mSQL (2.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (48.2ms)[0m   [0;1mDROP TABLE "organizations"[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100) DEFAULT '' NOT NULL, "address_1" varchar(100) DEFAULT '' NOT NULL, "address_2" varchar(100) DEFAULT '' NOT NULL, "email" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.3ms)[0m   [0mDROP TABLE "parent_link"[0m
  [4;36;1mSQL (12.3ms)[0m   [0;1mCREATE TABLE "parent_link" ("parent_link_id" integer(20) NOT NULL, "parental_unit_id" integer(20) DEFAULT 0 NOT NULL, "pupil_id" integer(20) DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (2.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (48.0ms)[0m   [0;1mDROP TABLE "parental_units"[0m
  [4;35;1mSQL (10.9ms)[0m   [0mCREATE TABLE "parental_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "names" varchar(80) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.3ms)[0m   [0mDROP TABLE "positives"[0m
  [4;36;1mSQL (55.2ms)[0m   [0;1mCREATE TABLE "positives" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(15) DEFAULT 0 NOT NULL, "poz_comment" text DEFAULT '' NOT NULL, "printed" integer(4) DEFAULT 0 NOT NULL, "user_id" integer DEFAULT 0 NOT NULL, "pupil_id" integer(9) DEFAULT 0 NOT NULL, "poz_subject" varchar(40) DEFAULT '' NOT NULL, "poz_timestamp" datetime, "updated_at" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mDROP TABLE "pupil_sets"[0m
  [4;35;1mSQL (5.4ms)[0m   [0mCREATE TABLE "pupil_sets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "external_id" integer, "set_code" varchar(30) DEFAULT '', "academic_year_id" integer(9) DEFAULT 0 NOT NULL, "set_subjectcode" varchar(30) DEFAULT '', "set_setlevel" varchar(10) DEFAULT '', "set_setyear" varchar(5) DEFAULT '', "school_session_id" integer(9) DEFAULT 0 NOT NULL, "set_setsubject" varchar(40), "course_code" varchar(15), "course_id" integer, "set_teacher_code" varchar(6), "set_teacher_id" integer(9) DEFAULT 0, "pupil_set_start_date" integer DEFAULT 0 NOT NULL, "pupil_set_end_date" integer) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: index course_id already exists: CREATE INDEX "course_id" ON "pupil_sets" ("course_id")[0m
  [4;36;1mSQL (4.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to Initial (1)
  [4;36;1mSQL (0.5ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (16.1ms)[0m   [0;1mDROP TABLE "academic_years"[0m
  [4;35;1mSQL (51.9ms)[0m   [0mCREATE TABLE "academic_years" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(10) DEFAULT '' NOT NULL, "interim_report_text" text) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.4ms)[0m   [0mDROP TABLE "accesses"[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mCREATE TABLE "accesses" ("action_id" integer(8) DEFAULT 0 NOT NULL, "group_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE INDEX "group_id" ON "accesses" ("group_id")[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.6ms)[0m   [0mDROP TABLE "actions"[0m
  [4;36;1mSQL (13.5ms)[0m   [0;1mCREATE TABLE "actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "menu_text" varchar(30) DEFAULT '' NOT NULL, "menu_order" integer(8) DEFAULT 0 NOT NULL, "menu_action" varchar(30), "controller" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (48.7ms)[0m   [0;1mDROP TABLE "assessed_element_data"[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE TABLE "assessed_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "report_id" integer(8) DEFAULT 0 NOT NULL, "assessed_element_id" integer(9) DEFAULT 0 NOT NULL, "value" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE INDEX "assessed_element_id" ON "assessed_element_data" ("assessed_element_id")[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE INDEX "report_id" ON "assessed_element_data" ("report_id")[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (53.5ms)[0m   [0mDROP TABLE "assessed_elements"[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE "assessed_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "course_id" integer(9) DEFAULT 0 NOT NULL, "element" varchar(50) DEFAULT '' NOT NULL, "element_order" integer(2) DEFAULT 0 NOT NULL, "start_date" date NOT NULL, "assessed_elements_end_date" date, "value_list_id" integer(9)) [0m
  [4;35;1mSQL (4.8ms)[0m   [0mCREATE INDEX "course_id" ON "assessed_elements" ("course_id")[0m
  [4;36;1mSQL (2.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (11.7ms)[0m   [0mDROP TABLE "course_levels"[0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE TABLE "course_levels" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar(10) DEFAULT '' NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL, "external_id" integer) [0m
  [4;35;1mSQL (2.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mDROP TABLE "courses"[0m
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE TABLE "courses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "external_id" integer, "academic_year_id" integer DEFAULT 0 NOT NULL, "course_code" varchar(30) DEFAULT '' NOT NULL, "course_subject" varchar(100), "course_rubric" varchar(100), "course_department" varchar(30), "faculty_id" integer DEFAULT 0 NOT NULL, "course_level" varchar(20) DEFAULT '' NOT NULL, "course_level_id" integer DEFAULT 0 NOT NULL, "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer, "previous_course_id" integer) [0m
  [4;36;1mSQL (4.5ms)[0m   [0;1mCREATE UNIQUE INDEX "code" ON "courses" ("course_code")[0m
  [4;35;1mSQL (4.7ms)[0m   [0mCREATE INDEX "academic_year_id" ON "courses" ("academic_year_id")[0m
  [4;36;1mSQL (54.8ms)[0m   [0;1mCREATE INDEX "course_level_id" ON "courses" ("course_level_id")[0m
  [4;35;1mSQL (2.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mDROP TABLE "faculties"[0m
  [4;35;1mSQL (12.1ms)[0m   [0mCREATE TABLE "faculties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40) DEFAULT '' NOT NULL, "code" varchar(10) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (3.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (50.7ms)[0m   [0mDROP TABLE "generic_report_element_data"[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE "generic_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "report_id" integer(10) DEFAULT 0 NOT NULL, "generic_report_element_id" integer(10) DEFAULT 0 NOT NULL, "value" varchar(10), "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE INDEX "gred_reports_id" ON "generic_report_element_data" ("report_id", "generic_report_element_id")[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE INDEX "generic_report_element_id" ON "generic_report_element_data" ("generic_report_element_id")[0m
  [4;35;1mSQL (48.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDROP TABLE "generic_report_elements"[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE "generic_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" varchar(5), "element" varchar(100) DEFAULT '' NOT NULL, "element_order" integer DEFAULT 0 NOT NULL, "start_date" integer(10) DEFAULT 0 NOT NULL, "generic_report_elements_end_date" integer(10), "value_list_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mCREATE INDEX "report_year_id" ON "generic_report_elements" ("academic_year_id")[0m
  [4;35;1mSQL (11.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (47.0ms)[0m   [0;1mDROP TABLE "groups"[0m
  [4;35;1mSQL (20.2ms)[0m   [0mCREATE TABLE "groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL, "description" text) [0m
  [4;36;1mSQL (55.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.8ms)[0m   [0mDROP TABLE "groups_users"[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mCREATE TABLE "groups_users" ("user_id" integer(9) DEFAULT 0 NOT NULL, "group_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE INDEX "teacher_seq" ON "groups_users" ("user_id")[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (13.4ms)[0m   [0mDROP TABLE "guidance_groups"[0m
  [4;36;1mSQL (37.8ms)[0m   [0;1mCREATE TABLE "guidance_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "code" varchar(20) DEFAULT '' NOT NULL, "name" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (3.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.9ms)[0m   [0;1mDROP TABLE "guidance_groups_users"[0m
  [4;35;1mSQL (67.3ms)[0m   [0mCREATE TABLE "guidance_groups_users" ("guidance_group_id" integer DEFAULT 0 NOT NULL, "user_id" integer(10) DEFAULT 0 NOT NULL, "school_session_id" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (3.9ms)[0m   [0;1mCREATE INDEX "user_id" ON "guidance_groups_users" ("user_id")[0m
  [4;35;1mSQL (2.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (12.4ms)[0m   [0;1mDROP TABLE "guidance_report_element_data"[0m
  [4;35;1mSQL (46.8ms)[0m   [0mCREATE TABLE "guidance_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "guidance_report_id" integer(10) DEFAULT 0 NOT NULL, "guidance_report_element_id" integer(10) DEFAULT 0 NOT NULL, "value" varchar(10), "start_date" integer DEFAULT 0 NOT NULL, "end_date" integer) [0m
  [4;36;1mSQL (2.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.4ms)[0m   [0mDROP TABLE "guidance_report_elements"[0m
  [4;36;1mSQL (9.1ms)[0m   [0;1mCREATE TABLE "guidance_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" integer DEFAULT 0 NOT NULL, "element" varchar(50) DEFAULT '' NOT NULL, "values_name" varchar(50) DEFAULT '' NOT NULL, "element_order" integer(2) DEFAULT 0 NOT NULL, "start_date" date, "end_date" date) [0m
  [4;35;1mSQL (51.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mDROP TABLE "guidance_reports"[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "guidance_reports" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "pupil_id" integer(14) DEFAULT 0 NOT NULL, "session" varchar(7), "school_session_id" integer DEFAULT 0 NOT NULL, "reports_comment1" text, "reports_comment2" text, "updated_on" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.5ms)[0m   [0mDROP TABLE "interim_report_element_data"[0m
  [4;36;1mSQL (13.1ms)[0m   [0;1mCREATE TABLE "interim_report_element_data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(14) DEFAULT 0 NOT NULL, "interim_report_element_id" integer(10) DEFAULT 0 NOT NULL, "element_value" varchar(10) DEFAULT '' NOT NULL, "updated_at" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (57.1ms)[0m   [0mCREATE INDEX "ired_reports_id" ON "interim_report_element_data" ("setlink_id")[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE INDEX "ired_interim_report_element_id" ON "interim_report_element_data" ("interim_report_element_id")[0m
  [4;35;1mSQL (2.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mDROP TABLE "interim_report_elements"[0m
  [4;35;1mSQL (50.3ms)[0m   [0mCREATE TABLE "interim_report_elements" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "academic_year_id" integer(9) DEFAULT 0 NOT NULL, "element" varchar(100) DEFAULT '' NOT NULL, "order" integer DEFAULT 0 NOT NULL, "start_date" integer DEFAULT 0 NOT NULL, "interim_report_elements_end_date" integer, "value_list_id" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.5ms)[0m   [0mDROP TABLE "letters"[0m
  [4;36;1mSQL (12.1ms)[0m   [0;1mCREATE TABLE "letters" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(200) DEFAULT '' NOT NULL, "tracking_element_id" integer DEFAULT 0 NOT NULL, "text1" text DEFAULT '' NOT NULL, "text2" text DEFAULT '' NOT NULL, "text3" text DEFAULT '' NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (58.3ms)[0m   [0;1mDROP TABLE "merit_counts"[0m
  [4;35;1mSQL (5.5ms)[0m   [0mCREATE TABLE "merit_counts" ("pupil_id" integer DEFAULT 0 NOT NULL, "totals" integer(21) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE INDEX "pupil_id" ON "merit_counts" ("pupil_id")[0m
  [4;35;1mSQL (2.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mDROP TABLE "merit_cutoffs"[0m
  [4;35;1mSQL (53.7ms)[0m   [0mCREATE TABLE "merit_cutoffs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "level" varchar(20) DEFAULT '' NOT NULL, "cutoff" integer(9) DEFAULT 0 NOT NULL, "academic_year_id" integer DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.5ms)[0m   [0mDROP TABLE "merits"[0m
  [4;36;1mSQL (13.4ms)[0m   [0;1mCREATE TABLE "merits" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(20) DEFAULT 0 NOT NULL, "pupil_id" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (48.7ms)[0m   [0mCREATE INDEX "setlink_id" ON "merits" ("setlink_id")[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.2ms)[0m   [0mDROP TABLE "motds"[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE "motds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "text" text DEFAULT '' NOT NULL, "created_on" datetime) [0m
  [4;35;1mSQL (2.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDROP TABLE "organizations"[0m
  [4;35;1mSQL (49.4ms)[0m   [0mCREATE TABLE "organizations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(100) DEFAULT '' NOT NULL, "address_1" varchar(100) DEFAULT '' NOT NULL, "address_2" varchar(100) DEFAULT '' NOT NULL, "email" varchar(50) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.1ms)[0m   [0mDROP TABLE "parent_link"[0m
  [4;36;1mSQL (14.7ms)[0m   [0;1mCREATE TABLE "parent_link" ("parent_link_id" integer(20) NOT NULL, "parental_unit_id" integer(20) DEFAULT 0 NOT NULL, "pupil_id" integer(20) DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (45.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (10.2ms)[0m   [0;1mDROP TABLE "parental_units"[0m
  [4;35;1mSQL (3.9ms)[0m   [0mCREATE TABLE "parental_units" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "names" varchar(80) DEFAULT '' NOT NULL) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (5.6ms)[0m   [0mDROP TABLE "positives"[0m
  [4;36;1mSQL (50.7ms)[0m   [0;1mCREATE TABLE "positives" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "setlink_id" integer(15) DEFAULT 0 NOT NULL, "poz_comment" text DEFAULT '' NOT NULL, "printed" integer(4) DEFAULT 0 NOT NULL, "user_id" integer DEFAULT 0 NOT NULL, "pupil_id" integer(9) DEFAULT 0 NOT NULL, "poz_subject" varchar(40) DEFAULT '' NOT NULL, "poz_timestamp" datetime, "updated_at" integer DEFAULT 0 NOT NULL) [0m
  [4;35;1mSQL (2.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1mDROP TABLE "pupil_sets"[0m
  [4;35;1mSQL (38.1ms)[0m   [0mCREATE TABLE "pupil_sets" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "external_id" integer, "set_code" varchar(30) DEFAULT '', "academic_year_id" integer(9) DEFAULT 0 NOT NULL, "set_subjectcode" varchar(30) DEFAULT '', "set_setlevel" varchar(10) DEFAULT '', "set_setyear" varchar(5) DEFAULT '', "school_session_id" integer(9) DEFAULT 0 NOT NULL, "set_setsubject" varchar(40), "course_code" varchar(15), "course_id" integer, "set_teacher_code" varchar(6), "set_teacher_id" integer(9) DEFAULT 0, "pupil_set_start_date" integer DEFAULT 0 NOT NULL, "pupil_set_end_date" integer) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (19.0ms)[0m   [0mCREATE TABLE "pupils" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "known_as" varchar(30) DEFAULT '' NOT NULL, "external_id" integer, "surname" varchar(30) DEFAULT '' NOT NULL, "gender" varchar(1) DEFAULT 'm' NOT NULL, "academic_year_id" integer(9) DEFAULT 0, "guidance_group_id" integer DEFAULT 0 NOT NULL, "leave_date" integer(20), "forename" varchar(20), "middle_names" varchar(50), "preferred_surname" varchar(20), "d_o_b" date, "doctor_id" integer, "home_language" varchar(20), "free_school_meal_status" varchar(20), "care_status" varchar(20), "religion" varchar(20)) [0m
  [4;36;1mSQL (53.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (6.7ms)[0m   [0mCREATE TABLE "report_comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "course_id" integer DEFAULT 0 NOT NULL, "comment_text" text DEFAULT '' NOT NULL, "comment_order" integer(9) DEFAULT 0 NOT NULL) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: index course_id already exists: CREATE INDEX "course_id" ON "report_comments" ("course_id")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE DATABASE `mysqltest_development` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_general_ci`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE DATABASE `mysqltest_production` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_general_ci`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE DATABASE `mysqltest_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_general_ci`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (18.6ms)[0m   [0mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (28.8ms)[0m   [0;1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to Initial (1)
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (4.2ms)[0m   [0;1mCREATE TABLE `academic_years` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(10) DEFAULT '' NOT NULL, `interim_report_text` text) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (11.5ms)[0m   [0;1mCREATE TABLE `accesses` (`action_id` bigint DEFAULT 0 NOT NULL, `group_id` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (63.2ms)[0m   [0mCREATE INDEX `group_id` ON `accesses` (`group_id`)[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.1ms)[0m   [0mCREATE TABLE `actions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `menu_text` varchar(30) DEFAULT '' NOT NULL, `menu_order` bigint DEFAULT 0 NOT NULL, `menu_action` varchar(30), `controller` varchar(50) DEFAULT '' NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.4ms)[0m   [0mCREATE TABLE `assessed_element_data` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `report_id` bigint DEFAULT 0 NOT NULL, `assessed_element_id` integer DEFAULT 0 NOT NULL, `value` varchar(50) DEFAULT '' NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (9.7ms)[0m   [0;1mCREATE INDEX `assessed_element_id` ON `assessed_element_data` (`assessed_element_id`)[0m
  [4;35;1mSQL (21.1ms)[0m   [0mCREATE INDEX `report_id` ON `assessed_element_data` (`report_id`)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (6.7ms)[0m   [0mCREATE TABLE `assessed_elements` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `course_id` integer DEFAULT 0 NOT NULL, `element` varchar(50) DEFAULT '' NOT NULL, `element_order` smallint DEFAULT 0 NOT NULL, `start_date` date NOT NULL, `assessed_elements_end_date` date, `value_list_id` integer) ENGINE=InnoDB[0m
  [4;36;1mSQL (17.2ms)[0m   [0;1mCREATE INDEX `course_id` ON `assessed_elements` (`course_id`)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE TABLE `course_levels` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(10) DEFAULT '' NOT NULL, `name` varchar(50) DEFAULT '' NOT NULL, `external_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mCREATE TABLE `courses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `external_id` int(11), `academic_year_id` int(11) DEFAULT 0 NOT NULL, `course_code` varchar(30) DEFAULT '' NOT NULL, `course_subject` varchar(100), `course_rubric` varchar(100), `course_department` varchar(30), `faculty_id` int(11) DEFAULT 0 NOT NULL, `course_level` varchar(20) DEFAULT '' NOT NULL, `course_level_id` int(11) DEFAULT 0 NOT NULL, `start_date` int(11) DEFAULT 0 NOT NULL, `end_date` int(11), `previous_course_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (25.9ms)[0m   [0mCREATE UNIQUE INDEX `code` ON `courses` (`course_code`)[0m
  [4;36;1mSQL (26.2ms)[0m   [0;1mCREATE INDEX `academic_year_id` ON `courses` (`academic_year_id`)[0m
  [4;35;1mSQL (22.6ms)[0m   [0mCREATE INDEX `course_level_id` ON `courses` (`course_level_id`)[0m
  [4;36;1mSQL (7.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (16.8ms)[0m   [0mCREATE TABLE `faculties` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(40) DEFAULT '' NOT NULL, `code` varchar(10) DEFAULT '' NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (7.9ms)[0m   [0mCREATE TABLE `generic_report_element_data` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `report_id` integer DEFAULT 0 NOT NULL, `generic_report_element_id` integer DEFAULT 0 NOT NULL, `value` varchar(10), `start_date` int(11) DEFAULT 0 NOT NULL, `end_date` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (29.6ms)[0m   [0;1mCREATE INDEX `gred_reports_id` ON `generic_report_element_data` (`report_id`, `generic_report_element_id`)[0m
  [4;35;1mSQL (35.5ms)[0m   [0mCREATE INDEX `generic_report_element_id` ON `generic_report_element_data` (`generic_report_element_id`)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (8.7ms)[0m   [0mCREATE TABLE `generic_report_elements` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `academic_year_id` varchar(5), `element` varchar(100) DEFAULT '' NOT NULL, `element_order` int(11) DEFAULT 0 NOT NULL, `start_date` integer DEFAULT 0 NOT NULL, `generic_report_elements_end_date` integer, `value_list_id` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (30.1ms)[0m   [0;1mCREATE INDEX `report_year_id` ON `generic_report_elements` (`academic_year_id`)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (6.8ms)[0m   [0;1mCREATE TABLE `groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(50) DEFAULT '' NOT NULL, `description` text) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (8.4ms)[0m   [0;1mCREATE TABLE `groups_users` (`user_id` integer DEFAULT 0 NOT NULL, `group_id` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (25.4ms)[0m   [0mCREATE INDEX `teacher_seq` ON `groups_users` (`user_id`)[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE `guidance_groups` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(20) DEFAULT '' NOT NULL, `name` varchar(50) DEFAULT '' NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (9.9ms)[0m   [0mCREATE TABLE `guidance_groups_users` (`guidance_group_id` int(11) DEFAULT 0 NOT NULL, `user_id` integer DEFAULT 0 NOT NULL, `school_session_id` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (27.2ms)[0m   [0;1mCREATE INDEX `user_id` ON `guidance_groups_users` (`user_id`)[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (7.8ms)[0m   [0;1mCREATE TABLE `guidance_report_element_data` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `guidance_report_id` integer DEFAULT 0 NOT NULL, `guidance_report_element_id` integer DEFAULT 0 NOT NULL, `value` varchar(10), `start_date` int(11) DEFAULT 0 NOT NULL, `end_date` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (7.5ms)[0m   [0;1mCREATE TABLE `guidance_report_elements` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `academic_year_id` int(11) DEFAULT 0 NOT NULL, `element` varchar(50) DEFAULT '' NOT NULL, `values_name` varchar(50) DEFAULT '' NOT NULL, `element_order` smallint DEFAULT 0 NOT NULL, `start_date` date, `end_date` date) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (16.1ms)[0m   [0;1mCREATE TABLE `guidance_reports` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `pupil_id` integer DEFAULT 0 NOT NULL, `session` varchar(7), `school_session_id` int(11) DEFAULT 0 NOT NULL, `reports_comment1` text, `reports_comment2` text, `updated_on` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (23.1ms)[0m   [0;1mCREATE TABLE `interim_report_element_data` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `setlink_id` integer DEFAULT 0 NOT NULL, `interim_report_element_id` integer DEFAULT 0 NOT NULL, `element_value` varchar(10) DEFAULT '' NOT NULL, `updated_at` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (12.1ms)[0m   [0mCREATE INDEX `ired_reports_id` ON `interim_report_element_data` (`setlink_id`)[0m
  [4;36;1mSQL (22.1ms)[0m   [0;1mCREATE INDEX `ired_interim_report_element_id` ON `interim_report_element_data` (`interim_report_element_id`)[0m
  [4;35;1mSQL (291.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mCREATE TABLE `interim_report_elements` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `academic_year_id` integer DEFAULT 0 NOT NULL, `element` varchar(100) DEFAULT '' NOT NULL, `order` int(11) DEFAULT 0 NOT NULL, `start_date` int(11) DEFAULT 0 NOT NULL, `interim_report_elements_end_date` int(11), `value_list_id` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (2.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE `letters` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(200) DEFAULT '' NOT NULL, `tracking_element_id` int(11) DEFAULT 0 NOT NULL, `text1` text DEFAULT '' NOT NULL, `text2` text DEFAULT '' NOT NULL, `text3` text DEFAULT '' NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (55.8ms)[0m   [0;1mCREATE TABLE `merit_counts` (`pupil_id` int(11) DEFAULT 0 NOT NULL, `totals` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (14.8ms)[0m   [0mCREATE INDEX `pupil_id` ON `merit_counts` (`pupil_id`)[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE `merit_cutoffs` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `level` varchar(20) DEFAULT '' NOT NULL, `cutoff` integer DEFAULT 0 NOT NULL, `academic_year_id` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (40.5ms)[0m   [0mCREATE TABLE `merits` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `setlink_id` integer DEFAULT 0 NOT NULL, `pupil_id` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (18.8ms)[0m   [0;1mCREATE INDEX `setlink_id` ON `merits` (`setlink_id`)[0m
  [4;35;1mSQL (17.3ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (5.6ms)[0m   [0;1mCREATE TABLE `motds` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `text` text DEFAULT '' NOT NULL, `created_on` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE `organizations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(100) DEFAULT '' NOT NULL, `address_1` varchar(100) DEFAULT '' NOT NULL, `address_2` varchar(100) DEFAULT '' NOT NULL, `email` varchar(50) DEFAULT '' NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (50.9ms)[0m   [0;1mCREATE TABLE `parent_link` (`parent_link_id` integer NOT NULL, `parental_unit_id` integer DEFAULT 0 NOT NULL, `pupil_id` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mCREATE TABLE `parental_units` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `names` varchar(80) DEFAULT '' NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (4.3ms)[0m   [0;1mCREATE TABLE `positives` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `setlink_id` integer DEFAULT 0 NOT NULL, `poz_comment` text DEFAULT '' NOT NULL, `printed` int(11) DEFAULT 0 NOT NULL, `user_id` int(11) DEFAULT 0 NOT NULL, `pupil_id` integer DEFAULT 0 NOT NULL, `poz_subject` varchar(40) DEFAULT '' NOT NULL, `poz_timestamp` datetime, `updated_at` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mCREATE TABLE `pupil_sets` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `external_id` int(11), `set_code` varchar(30) DEFAULT '', `academic_year_id` integer DEFAULT 0 NOT NULL, `set_subjectcode` varchar(30) DEFAULT '', `set_setlevel` varchar(10) DEFAULT '', `set_setyear` varchar(5) DEFAULT '', `school_session_id` integer DEFAULT 0 NOT NULL, `set_setsubject` varchar(40), `course_code` varchar(15), `course_id` int(11), `set_teacher_code` varchar(6), `set_teacher_id` integer DEFAULT 0, `pupil_set_start_date` int(11) DEFAULT 0 NOT NULL, `pupil_set_end_date` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (12.0ms)[0m   [0mCREATE INDEX `course_id` ON `pupil_sets` (`course_id`)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (23.4ms)[0m   [0mCREATE TABLE `pupils` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `known_as` varchar(30) DEFAULT '' NOT NULL, `external_id` int(11), `surname` varchar(30) DEFAULT '' NOT NULL, `gender` varchar(1) DEFAULT 'm' NOT NULL, `academic_year_id` integer DEFAULT 0, `guidance_group_id` int(11) DEFAULT 0 NOT NULL, `leave_date` integer, `forename` varchar(20), `middle_names` varchar(50), `preferred_surname` varchar(20), `d_o_b` date, `doctor_id` int(11), `home_language` varchar(20), `free_school_meal_status` varchar(20), `care_status` varchar(20), `religion` varchar(20)) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.9ms)[0m   [0mCREATE TABLE `report_comments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `course_id` int(11) DEFAULT 0 NOT NULL, `comment_text` text DEFAULT '' NOT NULL, `comment_order` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (10.1ms)[0m   [0;1mCREATE INDEX `course_id` ON `report_comments` (`course_id`)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (16.5ms)[0m   [0;1mCREATE TABLE `reports` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `setlink_id` integer DEFAULT 0 NOT NULL, `reports_comment1` text, `reports_comment2` text, `last_edited` datetime) ENGINE=InnoDB[0m
  [4;35;1mSQL (10.2ms)[0m   [0mCREATE INDEX `reports_setlink_id` ON `reports` (`setlink_id`)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (14.4ms)[0m   [0mCREATE TABLE `school_sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(5) DEFAULT '' NOT NULL, `school_session_start_date` date NOT NULL, `school_session_end_date` date NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (4.5ms)[0m   [0mCREATE TABLE `sessions` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `sessid` varchar(32), `data` text) ENGINE=InnoDB[0m
  [4;36;1mSQL (18.7ms)[0m   [0;1mCREATE INDEX `sessid` ON `sessions` (`sessid`)[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (18.3ms)[0m   [0;1mCREATE TABLE `set_teacher_link` (`set_teacher_link_id` integer NOT NULL, `user_id` integer DEFAULT 0 NOT NULL, `pupil_set_id` integer DEFAULT 0 NOT NULL, `start_date` int(11) DEFAULT 0 NOT NULL, `end_date` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (10.2ms)[0m   [0mCREATE INDEX `set_id` ON `set_teacher_link` (`pupil_set_id`)[0m
  [4;36;1mSQL (28.1ms)[0m   [0;1mCREATE INDEX `teacher_id` ON `set_teacher_link` (`user_id`)[0m
  [4;35;1mSQL (23.8ms)[0m   [0mCREATE INDEX `end_date` ON `set_teacher_link` (`end_date`)[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.3ms)[0m   [0mCREATE TABLE `setlinks` (`pupil_set_id` integer DEFAULT 0 NOT NULL, `pupil_id` integer DEFAULT 0 NOT NULL, `link_id` integer NOT NULL, `external_pupil_id` int(11), `external_pupil_set_id` int(11), `setlink_current` bigint DEFAULT 1, `setlink_end_date` int(11), `setlink_start_date` int(11) DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (28.5ms)[0m   [0;1mCREATE INDEX `pupil_seq` ON `setlinks` (`pupil_id`)[0m
  [4;35;1mSQL (33.8ms)[0m   [0mCREATE INDEX `set_seq` ON `setlinks` (`pupil_set_id`)[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (10.4ms)[0m   [0mCREATE TABLE `tracking_element_data` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `pupil_id` int(11) DEFAULT 0 NOT NULL, `course_id` int(11) DEFAULT 0 NOT NULL, `tracking_element_id` int(11) DEFAULT 0 NOT NULL, `value` varchar(50), `setlink_id` integer DEFAULT 0 NOT NULL, `school_session_id` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;36;1mSQL (34.8ms)[0m   [0;1mCREATE UNIQUE INDEX `tracking_pupil_id` ON `tracking_element_data` (`pupil_id`, `course_id`, `tracking_element_id`, `school_session_id`)[0m
  [4;35;1mSQL (250.7ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (6.2ms)[0m   [0;1mCREATE TABLE `tracking_elements` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `year_code` varchar(4) DEFAULT '0' NOT NULL, `academic_year_id` integer DEFAULT 0 NOT NULL, `element` varchar(50) DEFAULT '' NOT NULL, `value_list_id` integer DEFAULT 0 NOT NULL, `element_order` smallint DEFAULT 0 NOT NULL, `visibility` varchar(5), `editability` int(11) DEFAULT 0 NOT NULL, `show_full_report` int(11), `show_interim_report` int(11), `start_date` date NOT NULL, `end_date` date) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (17.7ms)[0m   [0;1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `external_id` int(11), `teacher_code` varchar(255), `firstname` varchar(100), `lastname` varchar(100), `title` varchar(30), `login` varchar(20), `teacher_department` varchar(10), `token_expiry` varchar(255), `delete_after` varchar(255), `verified` int(11) DEFAULT 0 NOT NULL, `email` varchar(40) DEFAULT '' NOT NULL, `salt` varchar(40) DEFAULT '' NOT NULL, `crypted_password` varchar(40), `role` varchar(40) DEFAULT '' NOT NULL, `security_token` varchar(40) DEFAULT '' NOT NULL, `deleted` int(11) DEFAULT 0 NOT NULL, `faculty_id` int(11) DEFAULT 0 NOT NULL, `leave_date` integer) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (57.3ms)[0m   [0;1mCREATE TABLE `value_list_data` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `list_name` varchar(50) DEFAULT '' NOT NULL, `value_item` varchar(50) DEFAULT '' NOT NULL, `item_order` float DEFAULT 0.0 NOT NULL, `start_date` int(11) DEFAULT 0 NOT NULL, `end_date` int(11), `value_list_id` integer DEFAULT 0 NOT NULL) ENGINE=InnoDB[0m
  [4;35;1mSQL (11.1ms)[0m   [0mCREATE INDEX `value_list_id` ON `value_list_data` (`value_list_id`)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.6ms)[0m   [0mCREATE TABLE `value_lists` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(80) DEFAULT '' NOT NULL, `end_date` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('1')[0m
Migrating to ActsAsAuth (2)
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Exists (0.9ms)[0m   [0mSELECT `users`.id FROM `users` WHERE (LOWER(`users`.`login`) = BINARY 'admin') LIMIT 1[0m
  [4;36;1mUser Create (1.4ms)[0m   [0;1mINSERT INTO `users` (`salt`, `delete_after`, `title`, `crypted_password`, `external_id`, `role`, `security_token`, `faculty_id`, `leave_date`, `firstname`, `lastname`, `token_expiry`, `deleted`, `teacher_department`, `verified`, `login`, `teacher_code`, `email`) VALUES('bb6299ee1764a00d151b7e814ac7363a1df64f9a', NULL, 'Mr', 'c410e7a022bd6805b01a6dca23c423f57977d7a8', NULL, '', '', 0, NULL, 'The', 'Admin', NULL, 0, NULL, 0, 'admin', NULL, '')[0m
  [4;35;1mSQL (1.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mGroup Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mGroup Create (0.9ms)[0m   [0;1mINSERT INTO `groups` (`name`, `description`) VALUES('teachers', NULL)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGroup Create (0.5ms)[0m   [0mINSERT INTO `groups` (`name`, `description`) VALUES('admins', NULL)[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mGroup Create (0.4ms)[0m   [0;1mINSERT INTO `groups` (`name`, `description`) VALUES('hods', NULL)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mBEGIN[0m
  [4;35;1mGroup Create (0.5ms)[0m   [0mINSERT INTO `groups` (`name`, `description`) VALUES('guidance', NULL)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mGroup Create (1.2ms)[0m   [0;1mINSERT INTO `groups` (`name`, `description`) VALUES('Head Teacher', NULL)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
  [4;35;1mGroup Load (0.8ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`name` = 'admins') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mgroups_users Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `groups_users`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mINSERT INTO `groups_users` (`group_id`, `user_id`) VALUES (2, 1)[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mOrganization Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `organizations`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mOrganization Create (0.8ms)[0m   [0;1mINSERT INTO `organizations` (`name`, `address_1`, `address_2`, `email`) VALUES('Your School', '', '', 'you@yourschool.com')[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (77.0ms)[0m   [0mALTER TABLE `users` DROP `role`[0m
  [4;36;1mSQL (76.7ms)[0m   [0;1mALTER TABLE `users` DROP `teacher_department`[0m
  [4;35;1mSQL (23.0ms)[0m   [0mALTER TABLE `users` DROP `teacher_code`[0m
  [4;36;1mSQL (31.5ms)[0m   [0;1mALTER TABLE `users` DROP `token_expiry`[0m
  [4;35;1mSQL (14.4ms)[0m   [0mALTER TABLE `users` DROP `delete_after`[0m
  [4;36;1mSQL (10.9ms)[0m   [0;1mALTER TABLE `users` ADD `created_at` datetime[0m
  [4;35;1mSQL (26.0ms)[0m   [0mALTER TABLE `users` ADD `updated_at` datetime[0m
  [4;36;1mSQL (21.4ms)[0m   [0;1mTRUNCATE TABLE `accesses`;[0m
  [4;35;1mSQL (3.4ms)[0m   [0mTRUNCATE TABLE `actions`;[0m
  [4;36;1mSQL (15.9ms)[0m   [0;1mINSERT INTO `actions` (`id`, `menu_text`, `menu_order`, `menu_action`, `controller`) VALUES (4, 'Ad Hoc', 4, 'adhoc', 'positives'),
(6, 'Log Out', 10, 'logout', 'account'),
(9, 'Remove Pupils', 2, 'remove', 'pupils'),
(10, 'Claim Sets', 9, 'user_claim', 'pupil_sets'),
(11, 'Edit My Details', 11, 'edit', 'account'),
(14, 'View', 0, 'absentview', 'absences'),
(17, 'year set up', 0, 'reports_global_setup', 'reports'),
(18, 'new', 0, 'new', 'courses'),
(20, 'New', 10, 'new', 'pupil_sets'),
(22, 'Set targets', 0, 'set_targets', 'tracking'),
(23, 'Write Full Reports', 10, 'write', 'reports'),
(24, 'Tracking Setup', 0, 'tracking_setup', 'tracking'),
(27, 'Print Letters', 0, 'print_letters', 'letters'),
(28, 'New Pupil', 3, 'new', 'pupils'),
(29, 'View Faculty Reports', 10, 'view_faculty_reports', 'reports'),
(31, 'Print Reports', 12, 'print_reports', 'reports'),
(33, 'Set Cutoffs', 2, 'set_cutoffs', 'merits'),
(34, 'Print Merits', 3, 'print_merits', 'merits'),
(35, 'List Reports', 0, 'list', 'reports'),
(36, 'Search', 0, 'search', 'pupils'),
(37, 'Print', 0, 'print', 'positives'),
(38, 'List My Sets', 0, 'user_list', 'pupil_sets'),
(39, 'Write Interim Report', 0, 'write_interims', 'reports'),
(40, 'Summarize Full Reports', 0, 'summarize', 'reports'),
(41, 'Unexplained Absences', 0, 'register', 'registration'),
(43, 'Print Letters', 0, 'print_letters', 'tracking'),
(44, 'Check Targets Set', 0, 'check_tracking_completion', 'tracking'),
(45, 'Print Full Reports', 0, 'print_full_collated_reports', 'reports'),
(50, 'Award Merits', 1, 'award', 'merits'),
(51, 'Print Interims', 5, 'print_interim', 'reports'),
(52, 'edit', 0, 'edit', 'courses'),
(53, 'Edit', 10, 'edit', 'pupil_sets'),
(54, 'Analyse Reports', 0, 'analysis', 'reports'),
(55, 'Change a User''s Password', 5, 'admin_change_password', 'user'),
(56, 'Edit User Details', 5, 'admin_edit', 'user'),
(57, 'Create New User', 1, 'signup', 'user');[0m
  [4;35;1mSQL (2.2ms)[0m   [0mINSERT INTO `accesses` (`action_id`, `group_id`) VALUES (4, 1),
(6, 1),
(10, 1),
(11, 1),
(22, 1),
(23, 1),
(36, 1),
(38, 1),
(39, 1),
(40, 1),
(41, 1),
(50, 1),
(6, 2),
(14, 2),
(18, 2),
(20, 2),
(24, 2),
(27, 2),
(28, 2),
(33, 2),
(34, 2),
(36, 2),
(37, 2),
(43, 2),
(44, 2),
(45, 2),
(51, 2),
(52, 2),
(53, 2),
(54, 2),
(55, 2),
(56, 2),
(57, 2),
(29, 3);[0m
  [4;36;1mSQL (6.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('2')[0m
Migrating to PupilReportLink (3)
  [4;35;1mSQL (15.2ms)[0m   [0mALTER TABLE `reports` ADD `pupil_id` int(11)[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mupdate reports, setlinks, pupils set reports.pupil_id=pupils.id where
 pupils.id=setlinks.pupil_id and setlinks.link_id=reports.setlink_id[0m
  [4;35;1mSQL (1.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to Timetabling (4)
  [4;36;1mSQL (12.8ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (16.0ms)[0m   [0mCREATE TABLE `timetable_days` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `order` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (9.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE TABLE `timetable_slots` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `start_time` time, `end_time` time) ENGINE=InnoDB[0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE TABLE `timetable_periods` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `timetable_day_id` int(11), `timetable_slot_id` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.1ms)[0m   [0mCREATE TABLE `pupil_sets_timetable_periods` (`timetable_period_id` int(11), `pupil_set_id` int(11)) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to CreateLessons (5)
  [4;35;1mSQL (10.8ms)[0m   [0mCREATE TABLE `lessons` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (2.4ms)[0m   [0mDROP TABLE `lessons`[0m
  [4;36;1mSQL (4.6ms)[0m   [0;1mCREATE TABLE `lessons` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `timetable_period_id` int(11), `pupil_set_id` int(11), `user_id` int(11)) ENGINE=InnoDB[0m
  [4;35;1mSQL (40.4ms)[0m   [0minsert into lessons (timetable_period_id,pupil_set_id) select * from pupil_sets_timetable_periods;[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mDROP TABLE `pupil_sets_timetable_periods`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to Gradebook (6)
  [4;36;1mSQL (19.9ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (7.3ms)[0m   [0mCREATE TABLE `gradebook_assessments` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `pupil_set_id` int(11), `assessment_date` date, `name` varchar(20)) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (5.2ms)[0m   [0mCREATE TABLE `gradebook_scores` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `pupil_id` int(11), `gradebook_assessment_id` int(11), `score` varchar(20)) ENGINE=InnoDB[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to LessonPlans (7)
  [4;35;1mSQL (19.6ms)[0m   [0mSHOW TABLES[0m
  [4;36;1mSQL (4.1ms)[0m   [0;1mCREATE TABLE `lesson_plans` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `pupil_set_id` int(11), `lesson_date` date, `timetable_slot_id` int(11), `aim` text, `objectives` text, `lesson` text) ENGINE=InnoDB[0m
  [4;35;1mSQL (1.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to ReportSessions (8)
  [4;36;1mSQL (12.6ms)[0m   [0;1mALTER TABLE `reports` ADD `school_session_id` int(11)[0m
  [4;35;1mSQL (21.0ms)[0m   [0mupdate reports, setlinks, pupil_sets set reports.school_session_id=pupil_sets.school_session_id where reports.setlink_id=setlinks.link_id and setlinks.pupil_set_id=pupil_sets.id;[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to AddingClassposMenuItem (9)
  [4;35;1mSQL (16.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('9')[0m


Processing TopController#welcome (for 127.0.0.1 at 2009-02-01 17:52:13) [GET]
  Session ID: b267b724600e6a20183220b58f9b840c
Redirected to controlleraccountactionlogin
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 24ms (DB: 3) | 302 Found [http://localhost/]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 17:52:14) [GET]
  Session ID: b267b724600e6a20183220b58f9b840c
Rendering template within layouts/application
Rendering account/login
Completed in 75ms (View: 50, DB: 1) | 200 OK [http://localhost/account/login]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 17:54:00) [POST]
  Session ID: b267b724600e6a20183220b58f9b840c
  Parameters: {"user"=>{"password"=>"freemis", "login"=>"admin"}, "commit"=>"Log in"}
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Rendering template within layouts/application
Rendering account/login
Completed in 65ms (View: 18, DB: 6) | 200 OK [http://localhost/account/login]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 17:56:30) [POST]
  Session ID: b267b724600e6a20183220b58f9b840c
  Parameters: {"user"=>{"password"=>"teacher", "login"=>"user42"}, "commit"=>"Log in"}
  [4;36;1mUser Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'user42') LIMIT 1[0m
Rendering template within layouts/application
Rendering account/login
Completed in 50ms (View: 18, DB: 4) | 200 OK [http://localhost/account/login]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 21:16:23) [POST]
  Session ID: 521c17ef5ace576554546958a6558d08
  Parameters: {"user"=>{"password"=>"teacher", "login"=>"user42"}, "commit"=>"Log in"}
  [4;36;1mUser Columns (6.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'user42') LIMIT 1[0m
Rendering template within layouts/application
Rendering account/login
Completed in 61ms (View: 22, DB: 13) | 200 OK [http://localhost/account/login]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 21:17:28) [POST]
  Session ID: 6d1de9f6c05e84c8862d5006a0fbb102
  Parameters: {"user"=>{"password"=>"freemis", "login"=>"admin"}, "commit"=>"Log in"}
  [4;36;1mUser Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Rendering template within layouts/application
Rendering account/login
Completed in 55ms (View: 19, DB: 4) | 200 OK [http://localhost/account/login]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 21:17:40) [POST]
  Session ID: 6d1de9f6c05e84c8862d5006a0fbb102
  Parameters: {"user"=>{"password"=>"password", "login"=>"admin"}, "commit"=>"Log in"}
  [4;36;1mUser Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Rendering template within layouts/application
Rendering account/login
Completed in 256ms (View: 18, DB: 4) | 200 OK [http://localhost/account/login]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 21:19:08) [POST]
  Session ID: 6d1de9f6c05e84c8862d5006a0fbb102
  Parameters: {"user"=>{"password"=>"teacher", "login"=>"admin"}, "commit"=>"Log in"}
  [4;36;1mUser Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Rendering template within layouts/application
Rendering account/login
Completed in 57ms (View: 18, DB: 4) | 200 OK [http://localhost/account/login]


Processing AccountController#login (for 127.0.0.1 at 2009-02-01 21:20:17) [POST]
  Session ID: 6d1de9f6c05e84c8862d5006a0fbb102
  Parameters: {"user"=>{"password"=>"spacedog", "login"=>"admin"}, "commit"=>"Log in"}
  [4;36;1mUser Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'admin') LIMIT 1[0m
Redirected to controllertopactionwelcome
Completed in 36ms (DB: 3) | 302 Found [http://localhost/account/login]


Processing TopController#welcome (for 127.0.0.1 at 2009-02-01 21:20:17) [GET]
  Session ID: 6d1de9f6c05e84c8862d5006a0fbb102
  [4;36;1mUser Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (3.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAction Load (0.9ms)[0m   [0;1mSELECT * FROM `actions` WHERE (controller = 'top' AND menu_action= 'welcome') LIMIT 1[0m
DEPRECATION WARNING: render_component_as_string is deprecated and will be removed from Rails 2.3 (Please install render_component plugin from http://github.com/rails/render_component/tree/master). (called from welcome at /home/owner/Desktop/trunk/app/controllers/top_controller.rb:30)
Start rendering component ({:controller=>"motds", :action=>"list"}): 


Processing MotdsController#list (for 127.0.0.1 at 2009-02-01 21:20:17) [GET]
  Session ID: 6d1de9f6c05e84c8862d5006a0fbb102
  Parameters: {"id"=>nil}
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
  [4;36;1mAction Load (1.5ms)[0m   [0;1mSELECT * FROM `actions` WHERE (controller = 'motds' AND menu_action= 'list') LIMIT 1[0m
  [4;35;1mMotd Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `motds`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `motds` [0m
  [4;35;1mMotd Load (0.5ms)[0m   [0mSELECT * FROM `motds` LIMIT 0, 10[0m
Rendering motds/list
  [4;36;1mGroup Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `groups`[0m
  [4;35;1mGroup Load (0.7ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 2) [0m
  [4;36;1mUser Exists (1.1ms)[0m   [0;1mSELECT `users`.id FROM `users` INNER JOIN `groups_users` ON `users`.id = `groups_users`.user_id WHERE (`users`.`id` = 1) AND (`groups_users`.group_id = 2 ) LIMIT 1[0m
Completed in 53ms (View: 25, DB: 17) | 200 OK [http://localhost/]


End of component rendering
Rendering template within layouts/application
Rendering top/welcome
  [4;35;1mGroup Load (0.7ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;36;1mGroup Exists (0.7ms)[0m   [0;1mSELECT `groups`.id FROM `groups` INNER JOIN `groups_users` ON `groups`.id = `groups_users`.group_id WHERE (`groups`.`id` = 1) AND (`groups_users`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mGroup Load (0.6ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 4) [0m
  [4;36;1mGroup Exists (0.8ms)[0m   [0;1mSELECT `groups`.id FROM `groups` INNER JOIN `groups_users` ON `groups`.id = `groups_users`.group_id WHERE (`groups`.`id` = 4) AND (`groups_users`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mGroup Load (0.7ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 5) [0m
  [4;36;1mGroup Exists (3.8ms)[0m   [0;1mSELECT `groups`.id FROM `groups` INNER JOIN `groups_users` ON `groups`.id = `groups_users`.group_id WHERE (`groups`.`id` = 5) AND (`groups_users`.user_id = 1 ) LIMIT 1[0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 2) [0m
  [4;36;1mGroup Exists (1.1ms)[0m   [0;1mSELECT `groups`.id FROM `groups` INNER JOIN `groups_users` ON `groups`.id = `groups_users`.group_id WHERE (`groups`.`id` = 2) AND (`groups_users`.user_id = 1 ) LIMIT 1[0m
Rendered shared/_navigate (36.4ms)
Completed in 168ms (View: 61, DB: 0) | 200 OK [http://localhost/]
